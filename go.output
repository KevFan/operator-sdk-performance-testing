COMMAND: set -e
yamllint .


PLAY [Destroy] **********************************************************************************************************************************************

PLAY RECAP **************************************************************************************************************************************************

Tuesday 10 May 2022  21:28:34 +0100 (0:00:00.018)       0:00:00.018 ***********
===============================================================================

PLAY [Create] ***********************************************************************************************************************************************

TASK [Create test kind cluster] *****************************************************************************************************************************
Tuesday 10 May 2022  21:28:34 +0100 (0:00:00.017)       0:00:00.017 ***********
[33mchanged: [localhost][0m

TASK [Ensure ~/.kube directory exists.] *********************************************************************************************************************
Tuesday 10 May 2022  21:29:01 +0100 (0:00:27.255)       0:00:27.273 ***********
[32mok: [localhost][0m

TASK [Copy kubeconfig into ~/.kube as well.] ****************************************************************************************************************
Tuesday 10 May 2022  21:29:02 +0100 (0:00:00.276)       0:00:27.550 ***********
[33mchanged: [localhost][0m

PLAY RECAP **************************************************************************************************************************************************
[33mlocalhost[0m                  : [32mok=3   [0m [33mchanged=2   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

Tuesday 10 May 2022  21:29:02 +0100 (0:00:00.300)       0:00:27.851 ***********
===============================================================================
Create test kind cluster ---------------------------------------------------------------------------------------------------------------------------- 27.26s
Ensure ~/.kube directory exists. --------------------------------------------------------------------------------------------------------------------- 0.28s
Copy kubeconfig into ~/.kube as well. ---------------------------------------------------------------------------------------------------------------- 0.30s

PLAY [Converge] *********************************************************************************************************************************************

PLAY [localhost] ********************************************************************************************************************************************

TASK [Clone the operator-sdk project.] **********************************************************************************************************************
Tuesday 10 May 2022  21:29:03 +0100 (0:00:00.021)       0:00:00.021 ***********
[33mchanged: [localhost][0m

TASK [Attempt to fix file permissions.] *********************************************************************************************************************
Tuesday 10 May 2022  21:29:05 +0100 (0:00:02.107)       0:00:02.129 ***********
[33mchanged: [localhost][0m

TASK [Deploy a memcached DaemonSet so image is pulled to all nodes.] ****************************************************************************************
Tuesday 10 May 2022  21:29:13 +0100 (0:00:07.805)       0:00:09.934 ***********
[36mincluded: /home/kevinfan/dev/operator-sdk-performance-testing/tasks/memcached-daemonset.yml for localhost[0m

TASK [Create a Memcached DaemonSet.] ************************************************************************************************************************
Tuesday 10 May 2022  21:29:13 +0100 (0:00:00.128)       0:00:10.063 ***********
[33mchanged: [localhost][0m

TASK [Delete the Memcached DaemonSet.] **********************************************************************************************************************
Tuesday 10 May 2022  21:29:18 +0100 (0:00:05.753)       0:00:15.816 ***********
[33mchanged: [localhost][0m

TASK [Deploy cert-manager (required for Go operator).] ******************************************************************************************************
Tuesday 10 May 2022  21:29:19 +0100 (0:00:00.595)       0:00:16.411 ***********
[36mincluded: /home/kevinfan/dev/operator-sdk-performance-testing/tasks/cert-manager.yml for localhost[0m

TASK [Download cert-manager manifest.] **********************************************************************************************************************
Tuesday 10 May 2022  21:29:19 +0100 (0:00:00.060)       0:00:16.472 ***********
[33mchanged: [localhost][0m

TASK [Deploy cert-manager into the cluster.] ****************************************************************************************************************
Tuesday 10 May 2022  21:29:21 +0100 (0:00:01.709)       0:00:18.182 ***********
[33mchanged: [localhost][0m

TASK [Delete cert-manager manifest.] ************************************************************************************************************************
Tuesday 10 May 2022  21:29:59 +0100 (0:00:38.699)       0:00:56.881 ***********
[33mchanged: [localhost][0m

TASK [Deploy prometheus-operator (required for metrics service).] *******************************************************************************************
Tuesday 10 May 2022  21:30:00 +0100 (0:00:00.214)       0:00:57.095 ***********
[36mincluded: /home/kevinfan/dev/operator-sdk-performance-testing/tasks/prometheus-operator.yml for localhost[0m

TASK [Download prometheus-operator manifest.] ***************************************************************************************************************
Tuesday 10 May 2022  21:30:00 +0100 (0:00:00.026)       0:00:57.122 ***********
[32mok: [localhost][0m

TASK [Manually create the prometheus-operator ServiceAccount.] **********************************************************************************************
Tuesday 10 May 2022  21:30:01 +0100 (0:00:00.960)       0:00:58.082 ***********
[33mchanged: [localhost][0m

TASK [Manually create the prometheus ServiceAccount.] *******************************************************************************************************
Tuesday 10 May 2022  21:30:01 +0100 (0:00:00.754)       0:00:58.836 ***********
[33mchanged: [localhost][0m

TASK [Manually create the prometheus-operator cluster role] *************************************************************************************************
Tuesday 10 May 2022  21:30:02 +0100 (0:00:00.768)       0:00:59.604 ***********
[33mchanged: [localhost][0m

TASK [Manually create the prometheus-operator cluster role binding] *****************************************************************************************
Tuesday 10 May 2022  21:30:03 +0100 (0:00:00.702)       0:01:00.306 ***********
[33mchanged: [localhost][0m

TASK [Deploy prometheus-operator into the cluster.] *********************************************************************************************************
Tuesday 10 May 2022  21:30:04 +0100 (0:00:00.746)       0:01:01.052 ***********
[33mchanged: [localhost][0m

TASK [Deploy additional-scrape-configs into the cluster.] ***************************************************************************************************
Tuesday 10 May 2022  21:30:13 +0100 (0:00:09.220)       0:01:10.273 ***********
[33mchanged: [localhost][0m

TASK [Deploy the prometheus CR] *****************************************************************************************************************************
Tuesday 10 May 2022  21:30:13 +0100 (0:00:00.609)       0:01:10.882 ***********
[33mchanged: [localhost][0m

TASK [Deploy metrics server.] *******************************************************************************************************************************
Tuesday 10 May 2022  21:30:14 +0100 (0:00:00.562)       0:01:11.445 ***********
[36mincluded: /home/kevinfan/dev/operator-sdk-performance-testing/tasks/metrics.yml for localhost[0m

TASK [Download metrics server manifests] ********************************************************************************************************************
Tuesday 10 May 2022  21:30:14 +0100 (0:00:00.026)       0:01:11.471 ***********
[32mok: [localhost][0m

TASK [Deploy metrics service into the cluster.] *************************************************************************************************************
Tuesday 10 May 2022  21:30:15 +0100 (0:00:00.577)       0:01:12.049 ***********
[33mchanged: [localhost][0m

TASK [Download metrics server cluster role] *****************************************************************************************************************
Tuesday 10 May 2022  21:30:45 +0100 (0:00:30.834)       0:01:42.884 ***********
[32mok: [localhost][0m

TASK [Download metrics server cluster role binding] *********************************************************************************************************
Tuesday 10 May 2022  21:30:46 +0100 (0:00:00.884)       0:01:43.768 ***********
[32mok: [localhost][0m

TASK [Download metrics server deployment] *******************************************************************************************************************
Tuesday 10 May 2022  21:30:52 +0100 (0:00:05.321)       0:01:49.090 ***********
[32mok: [localhost][0m

TASK [Download metrics server service account] **************************************************************************************************************
Tuesday 10 May 2022  21:30:52 +0100 (0:00:00.610)       0:01:49.700 ***********
[32mok: [localhost][0m

TASK [Download metrics server service] **********************************************************************************************************************
Tuesday 10 May 2022  21:30:53 +0100 (0:00:00.616)       0:01:50.316 ***********
[32mok: [localhost][0m

TASK [Deploy metrics server cluster role] *******************************************************************************************************************
Tuesday 10 May 2022  21:30:54 +0100 (0:00:00.614)       0:01:50.931 ***********
[33mchanged: [localhost][0m

TASK [Deploy metrics server cluster role binding] ***********************************************************************************************************
Tuesday 10 May 2022  21:30:54 +0100 (0:00:00.620)       0:01:51.551 ***********
[33mchanged: [localhost][0m

TASK [Deploy metrics server service account] ****************************************************************************************************************
Tuesday 10 May 2022  21:30:55 +0100 (0:00:00.605)       0:01:52.156 ***********
[33mchanged: [localhost][0m

TASK [Deploy metrics server deployment] *********************************************************************************************************************
Tuesday 10 May 2022  21:30:55 +0100 (0:00:00.622)       0:01:52.779 ***********
[33mchanged: [localhost][0m

TASK [Deploy metrics server service] ************************************************************************************************************************
Tuesday 10 May 2022  21:31:11 +0100 (0:00:15.625)       0:02:08.404 ***********
[33mchanged: [localhost][0m

TASK [SPIKE TEST -  Build, deploy, benchmark, and undeploy operators.] **************************************************************************************
Tuesday 10 May 2022  21:31:12 +0100 (0:00:00.812)       0:02:09.217 ***********
[36mincluded: /home/kevinfan/dev/operator-sdk-performance-testing/tasks/operator-tasks.yml for localhost[0m

TASK [Set the go memcached operator image name.] ************************************************************************************************************
Tuesday 10 May 2022  21:31:12 +0100 (0:00:00.089)       0:02:09.307 ***********
[32mok: [localhost][0m

TASK [Set the app label selector for Helm.] *****************************************************************************************************************
Tuesday 10 May 2022  21:31:12 +0100 (0:00:00.016)       0:02:09.323 ***********
[36mskipping: [localhost][0m

TASK [Ensure the operator namespace exists.] ****************************************************************************************************************
Tuesday 10 May 2022  21:31:12 +0100 (0:00:00.014)       0:02:09.338 ***********
[33mchanged: [localhost][0m

TASK [Set the correct subdirectory for the Go operator example.] ********************************************************************************************
Tuesday 10 May 2022  21:31:13 +0100 (0:00:00.709)       0:02:10.047 ***********
[32mok: [localhost][0m

TASK [Build, push, and deploy the go memcached operator.] ***************************************************************************************************
Tuesday 10 May 2022  21:31:13 +0100 (0:00:00.019)       0:02:10.067 ***********
[33mchanged: [localhost] => (item=docker build . -t $IMG)[0m
[33mchanged: [localhost] => (item=make docker-push)[0m
[33mchanged: [localhost] => (item=make install)[0m
[33mchanged: [localhost] => (item=make deploy)[0m

TASK [Wait for Operator Pod to be 'Running'.] ***************************************************************************************************************
Tuesday 10 May 2022  21:32:15 +0100 (0:01:02.816)       0:03:12.883 ***********
[1;30mFAILED - RETRYING: Wait for Operator Pod to be 'Running'. (15 retries left).[0m
[1;30mFAILED - RETRYING: Wait for Operator Pod to be 'Running'. (14 retries left).[0m
[1;30mFAILED - RETRYING: Wait for Operator Pod to be 'Running'. (13 retries left).[0m
[32mok: [localhost][0m

TASK [Pause to allow cluster to stabilize.] *****************************************************************************************************************
Tuesday 10 May 2022  21:32:27 +0100 (0:00:11.800)       0:03:24.684 ***********
Pausing for 10 seconds
(ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
[32mok: [localhost][0m

TASK [Deploy 15 go memcached CRs.] **************************************************************************************************************************
Tuesday 10 May 2022  21:32:37 +0100 (0:00:10.013)       0:03:34.697 ***********
[33mchanged: [localhost][0m

TASK [[B1] Wait for 15 go Memcached Pods to be running.] ****************************************************************************************************
Tuesday 10 May 2022  21:32:38 +0100 (0:00:01.164)       0:03:35.862 ***********
[1;30mFAILED - RETRYING: [B1] Wait for 15 go Memcached Pods to be running. (120 retries left).[0m
[32mok: [localhost][0m

TASK [[B1] Wait for go Memcached Pods to be ready.] *********************************************************************************************************
Tuesday 10 May 2022  21:32:43 +0100 (0:00:04.323)       0:03:40.185 ***********
[32mok: [localhost][0m

TASK [Deploy 15 go memcached CRs.] **************************************************************************************************************************
Tuesday 10 May 2022  21:32:54 +0100 (0:00:10.924)       0:03:51.110 ***********
[32mok: [localhost][0m

TASK [[B2] Wait for 15 go Memcached Pods to be running.] ****************************************************************************************************
Tuesday 10 May 2022  21:32:55 +0100 (0:00:01.163)       0:03:52.274 ***********
[32mok: [localhost][0m

TASK [Un-deploy 15 go memcached CRs.] ***********************************************************************************************************************
Tuesday 10 May 2022  21:32:56 +0100 (0:00:00.935)       0:03:53.209 ***********
[33mchanged: [localhost][0m

TASK [[B3] Wait for all go Memcached Pods to be gone.] ******************************************************************************************************
Tuesday 10 May 2022  21:32:57 +0100 (0:00:00.992)       0:03:54.202 ***********
[1;30mFAILED - RETRYING: [B3] Wait for all go Memcached Pods to be gone. (120 retries left).[0m
[1;30mFAILED - RETRYING: [B3] Wait for all go Memcached Pods to be gone. (119 retries left).[0m
[32mok: [localhost][0m

TASK [Undeploy the go memcached operator.] ******************************************************************************************************************
Tuesday 10 May 2022  21:33:09 +0100 (0:00:12.485)       0:04:06.687 ***********
[33mchanged: [localhost][0m

TASK [LOAD TEST - Build, deploy, benchmark, and undeploy operators.] ****************************************************************************************
Tuesday 10 May 2022  21:33:10 +0100 (0:00:00.298)       0:04:06.986 ***********
[36mskipping: [localhost] => (item=go) [0m

PLAY RECAP **************************************************************************************************************************************************
[33mlocalhost[0m                  : [32mok=46  [0m [33mchanged=25  [0m unreachable=0    failed=0    [36mskipped=2   [0m rescued=0    ignored=0

Tuesday 10 May 2022  21:33:10 +0100 (0:00:00.022)       0:04:07.008 ***********
===============================================================================
Clone the operator-sdk project. ---------------------------------------------------------------------------------------------------------------------- 2.11s
Attempt to fix file permissions. --------------------------------------------------------------------------------------------------------------------- 7.81s
Deploy a memcached DaemonSet so image is pulled to all nodes. ---------------------------------------------------------------------------------------- 0.13s
Create a Memcached DaemonSet. ------------------------------------------------------------------------------------------------------------------------ 5.75s
Delete the Memcached DaemonSet. ---------------------------------------------------------------------------------------------------------------------- 0.60s
Deploy cert-manager (required for Go operator). ------------------------------------------------------------------------------------------------------ 0.06s
Download cert-manager manifest. ---------------------------------------------------------------------------------------------------------------------- 1.71s
Deploy cert-manager into the cluster. --------------------------------------------------------------------------------------------------------------- 38.70s
Delete cert-manager manifest. ------------------------------------------------------------------------------------------------------------------------ 0.21s
Deploy prometheus-operator (required for metrics service). ------------------------------------------------------------------------------------------- 0.03s
Download prometheus-operator manifest. --------------------------------------------------------------------------------------------------------------- 0.96s
Manually create the prometheus-operator ServiceAccount. ---------------------------------------------------------------------------------------------- 0.75s
Manually create the prometheus ServiceAccount. ------------------------------------------------------------------------------------------------------- 0.77s
Manually create the prometheus-operator cluster role ------------------------------------------------------------------------------------------------- 0.70s
Manually create the prometheus-operator cluster role binding ----------------------------------------------------------------------------------------- 0.75s
Deploy prometheus-operator into the cluster. --------------------------------------------------------------------------------------------------------- 9.22s
Deploy additional-scrape-configs into the cluster. --------------------------------------------------------------------------------------------------- 0.61s
Deploy the prometheus CR ----------------------------------------------------------------------------------------------------------------------------- 0.56s
Deploy metrics server. ------------------------------------------------------------------------------------------------------------------------------- 0.03s
Download metrics server manifests -------------------------------------------------------------------------------------------------------------------- 0.58s
Deploy metrics service into the cluster. ------------------------------------------------------------------------------------------------------------ 30.83s
Download metrics server cluster role ----------------------------------------------------------------------------------------------------------------- 0.88s
Download metrics server cluster role binding --------------------------------------------------------------------------------------------------------- 5.32s
Download metrics server deployment ------------------------------------------------------------------------------------------------------------------- 0.61s
Download metrics server service account -------------------------------------------------------------------------------------------------------------- 0.62s
Download metrics server service ---------------------------------------------------------------------------------------------------------------------- 0.61s
Deploy metrics server cluster role ------------------------------------------------------------------------------------------------------------------- 0.62s
Deploy metrics server cluster role binding ----------------------------------------------------------------------------------------------------------- 0.61s
Deploy metrics server service account ---------------------------------------------------------------------------------------------------------------- 0.62s
Deploy metrics server deployment -------------------------------------------------------------------------------------------------------------------- 15.63s
Deploy metrics server service ------------------------------------------------------------------------------------------------------------------------ 0.81s
SPIKE TEST -  Build, deploy, benchmark, and undeploy operators. -------------------------------------------------------------------------------------- 0.09s
Set the go memcached operator image name. ------------------------------------------------------------------------------------------------------------ 0.02s
Set the app label selector for Helm. ----------------------------------------------------------------------------------------------------------------- 0.01s
Ensure the operator namespace exists. ---------------------------------------------------------------------------------------------------------------- 0.71s
Set the correct subdirectory for the Go operator example. -------------------------------------------------------------------------------------------- 0.02s
Build, push, and deploy the go memcached operator. -------------------------------------------------------------------------------------------------- 62.82s
Wait for Operator Pod to be 'Running'. -------------------------------------------------------------------------------------------------------------- 11.80s
Pause to allow cluster to stabilize. ---------------------------------------------------------------------------------------------------------------- 10.01s
Deploy 15 go memcached CRs. -------------------------------------------------------------------------------------------------------------------------- 1.16s
[B1] Wait for 15 go Memcached Pods to be running. ---------------------------------------------------------------------------------------------------- 4.32s
[B1] Wait for go Memcached Pods to be ready. -------------------------------------------------------------------------------------------------------- 10.92s
Deploy 15 go memcached CRs. -------------------------------------------------------------------------------------------------------------------------- 1.16s
[B2] Wait for 15 go Memcached Pods to be running. ---------------------------------------------------------------------------------------------------- 0.94s
Un-deploy 15 go memcached CRs. ----------------------------------------------------------------------------------------------------------------------- 0.99s
[B3] Wait for all go Memcached Pods to be gone. ----------------------------------------------------------------------------------------------------- 12.49s
Undeploy the go memcached operator. ------------------------------------------------------------------------------------------------------------------ 0.30s
LOAD TEST - Build, deploy, benchmark, and undeploy operators. ---------------------------------------------------------------------------------------- 0.02s
