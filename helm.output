COMMAND: set -e
yamllint .


PLAY [Destroy] **********************************************************************************************************************************************

PLAY RECAP **************************************************************************************************************************************************

Tuesday 10 May 2022  20:47:14 +0100 (0:00:00.019)       0:00:00.019 ***********
===============================================================================

PLAY [Create] ***********************************************************************************************************************************************

TASK [Create test kind cluster] *****************************************************************************************************************************
Tuesday 10 May 2022  20:47:15 +0100 (0:00:00.019)       0:00:00.020 ***********
[33mchanged: [localhost][0m

TASK [Ensure ~/.kube directory exists.] *********************************************************************************************************************
Tuesday 10 May 2022  20:47:43 +0100 (0:00:28.330)       0:00:28.350 ***********
[32mok: [localhost][0m

TASK [Copy kubeconfig into ~/.kube as well.] ****************************************************************************************************************
Tuesday 10 May 2022  20:47:43 +0100 (0:00:00.357)       0:00:28.707 ***********
[33mchanged: [localhost][0m

PLAY RECAP **************************************************************************************************************************************************
[33mlocalhost[0m                  : [32mok=3   [0m [33mchanged=2   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

Tuesday 10 May 2022  20:47:44 +0100 (0:00:00.319)       0:00:29.027 ***********
===============================================================================
Create test kind cluster ---------------------------------------------------------------------------------------------------------------------------- 28.33s
Ensure ~/.kube directory exists. --------------------------------------------------------------------------------------------------------------------- 0.36s
Copy kubeconfig into ~/.kube as well. ---------------------------------------------------------------------------------------------------------------- 0.32s

PLAY [Converge] *********************************************************************************************************************************************

PLAY [localhost] ********************************************************************************************************************************************

TASK [Clone the operator-sdk project.] **********************************************************************************************************************
Tuesday 10 May 2022  20:47:45 +0100 (0:00:00.026)       0:00:00.026 ***********
[33mchanged: [localhost][0m

TASK [Attempt to fix file permissions.] *********************************************************************************************************************
Tuesday 10 May 2022  20:47:47 +0100 (0:00:02.351)       0:00:02.378 ***********
[33mchanged: [localhost][0m

TASK [Deploy a memcached DaemonSet so image is pulled to all nodes.] ****************************************************************************************
Tuesday 10 May 2022  20:47:55 +0100 (0:00:08.346)       0:00:10.724 ***********
[36mincluded: /home/kevinfan/dev/operator-sdk-performance-testing/tasks/memcached-daemonset.yml for localhost[0m

TASK [Create a Memcached DaemonSet.] ************************************************************************************************************************
Tuesday 10 May 2022  20:47:55 +0100 (0:00:00.139)       0:00:10.864 ***********
[33mchanged: [localhost][0m

TASK [Delete the Memcached DaemonSet.] **********************************************************************************************************************
Tuesday 10 May 2022  20:48:01 +0100 (0:00:05.762)       0:00:16.627 ***********
[33mchanged: [localhost][0m

TASK [Deploy cert-manager (required for Go operator).] ******************************************************************************************************
Tuesday 10 May 2022  20:48:02 +0100 (0:00:00.642)       0:00:17.269 ***********
[36mskipping: [localhost][0m

TASK [Deploy prometheus-operator (required for metrics service).] *******************************************************************************************
Tuesday 10 May 2022  20:48:02 +0100 (0:00:00.048)       0:00:17.318 ***********
[36mincluded: /home/kevinfan/dev/operator-sdk-performance-testing/tasks/prometheus-operator.yml for localhost[0m

TASK [Download prometheus-operator manifest.] ***************************************************************************************************************
Tuesday 10 May 2022  20:48:02 +0100 (0:00:00.020)       0:00:17.338 ***********
[32mok: [localhost][0m

TASK [Manually create the prometheus-operator ServiceAccount.] **********************************************************************************************
Tuesday 10 May 2022  20:48:03 +0100 (0:00:00.928)       0:00:18.267 ***********
[33mchanged: [localhost][0m

TASK [Manually create the prometheus ServiceAccount.] *******************************************************************************************************
Tuesday 10 May 2022  20:48:03 +0100 (0:00:00.651)       0:00:18.919 ***********
[33mchanged: [localhost][0m

TASK [Manually create the prometheus-operator cluster role] *************************************************************************************************
Tuesday 10 May 2022  20:48:04 +0100 (0:00:00.591)       0:00:19.511 ***********
[33mchanged: [localhost][0m

TASK [Manually create the prometheus-operator cluster role binding] *****************************************************************************************
Tuesday 10 May 2022  20:48:05 +0100 (0:00:00.558)       0:00:20.069 ***********
[33mchanged: [localhost][0m

TASK [Deploy prometheus-operator into the cluster.] *********************************************************************************************************
Tuesday 10 May 2022  20:48:05 +0100 (0:00:00.617)       0:00:20.686 ***********
[33mchanged: [localhost][0m

TASK [Deploy additional-scrape-configs into the cluster.] ***************************************************************************************************
Tuesday 10 May 2022  20:48:24 +0100 (0:00:18.742)       0:00:39.429 ***********
[33mchanged: [localhost][0m

TASK [Deploy the prometheus CR] *****************************************************************************************************************************
Tuesday 10 May 2022  20:48:25 +0100 (0:00:00.693)       0:00:40.123 ***********
[33mchanged: [localhost][0m

TASK [Deploy metrics server.] *******************************************************************************************************************************
Tuesday 10 May 2022  20:48:25 +0100 (0:00:00.645)       0:00:40.768 ***********
[36mincluded: /home/kevinfan/dev/operator-sdk-performance-testing/tasks/metrics.yml for localhost[0m

TASK [Download metrics server manifests] ********************************************************************************************************************
Tuesday 10 May 2022  20:48:25 +0100 (0:00:00.018)       0:00:40.787 ***********
[32mok: [localhost][0m

TASK [Deploy metrics service into the cluster.] *************************************************************************************************************
Tuesday 10 May 2022  20:48:26 +0100 (0:00:00.602)       0:00:41.389 ***********
[33mchanged: [localhost][0m

TASK [Download metrics server cluster role] *****************************************************************************************************************
Tuesday 10 May 2022  20:49:02 +0100 (0:00:35.845)       0:01:17.234 ***********
[32mok: [localhost][0m

TASK [Download metrics server cluster role binding] *********************************************************************************************************
Tuesday 10 May 2022  20:49:03 +0100 (0:00:00.964)       0:01:18.199 ***********
[32mok: [localhost][0m

TASK [Download metrics server deployment] *******************************************************************************************************************
Tuesday 10 May 2022  20:49:04 +0100 (0:00:00.821)       0:01:19.021 ***********
[32mok: [localhost][0m

TASK [Download metrics server service account] **************************************************************************************************************
Tuesday 10 May 2022  20:49:04 +0100 (0:00:00.613)       0:01:19.634 ***********
[32mok: [localhost][0m

TASK [Download metrics server service] **********************************************************************************************************************
Tuesday 10 May 2022  20:49:05 +0100 (0:00:00.613)       0:01:20.248 ***********
[32mok: [localhost][0m

TASK [Deploy metrics server cluster role] *******************************************************************************************************************
Tuesday 10 May 2022  20:49:05 +0100 (0:00:00.613)       0:01:20.861 ***********
[33mchanged: [localhost][0m

TASK [Deploy metrics server cluster role binding] ***********************************************************************************************************
Tuesday 10 May 2022  20:49:06 +0100 (0:00:00.663)       0:01:21.525 ***********
[33mchanged: [localhost][0m

TASK [Deploy metrics server service account] ****************************************************************************************************************
Tuesday 10 May 2022  20:49:07 +0100 (0:00:00.582)       0:01:22.107 ***********
[33mchanged: [localhost][0m

TASK [Deploy metrics server deployment] *********************************************************************************************************************
Tuesday 10 May 2022  20:49:07 +0100 (0:00:00.651)       0:01:22.759 ***********
[33mchanged: [localhost][0m

TASK [Deploy metrics server service] ************************************************************************************************************************
Tuesday 10 May 2022  20:49:23 +0100 (0:00:15.755)       0:01:38.515 ***********
[33mchanged: [localhost][0m

TASK [SPIKE TEST -  Build, deploy, benchmark, and undeploy operators.] **************************************************************************************
Tuesday 10 May 2022  20:49:24 +0100 (0:00:00.661)       0:01:39.177 ***********
[36mincluded: /home/kevinfan/dev/operator-sdk-performance-testing/tasks/operator-tasks.yml for localhost[0m

TASK [Set the helm memcached operator image name.] **********************************************************************************************************
Tuesday 10 May 2022  20:49:24 +0100 (0:00:00.130)       0:01:39.307 ***********
[32mok: [localhost][0m

TASK [Set the app label selector for Helm.] *****************************************************************************************************************
Tuesday 10 May 2022  20:49:24 +0100 (0:00:00.022)       0:01:39.330 ***********
[32mok: [localhost][0m

TASK [Ensure the operator namespace exists.] ****************************************************************************************************************
Tuesday 10 May 2022  20:49:24 +0100 (0:00:00.021)       0:01:39.351 ***********
[33mchanged: [localhost][0m

TASK [Set the correct subdirectory for the Go operator example.] ********************************************************************************************
Tuesday 10 May 2022  20:49:24 +0100 (0:00:00.583)       0:01:39.934 ***********
[36mskipping: [localhost][0m

TASK [Build, push, and deploy the helm memcached operator.] *************************************************************************************************
Tuesday 10 May 2022  20:49:24 +0100 (0:00:00.017)       0:01:39.952 ***********
[33mchanged: [localhost] => (item=docker build . -t $IMG)[0m
[33mchanged: [localhost] => (item=make docker-push)[0m
[33mchanged: [localhost] => (item=make install)[0m
[33mchanged: [localhost] => (item=make deploy)[0m

TASK [Wait for Operator Pod to be 'Running'.] ***************************************************************************************************************
Tuesday 10 May 2022  20:49:31 +0100 (0:00:06.138)       0:01:46.090 ***********
[1;30mFAILED - RETRYING: Wait for Operator Pod to be 'Running'. (15 retries left).[0m
[1;30mFAILED - RETRYING: Wait for Operator Pod to be 'Running'. (14 retries left).[0m
[1;30mFAILED - RETRYING: Wait for Operator Pod to be 'Running'. (13 retries left).[0m
[1;30mFAILED - RETRYING: Wait for Operator Pod to be 'Running'. (12 retries left).[0m
[1;30mFAILED - RETRYING: Wait for Operator Pod to be 'Running'. (11 retries left).[0m
[32mok: [localhost][0m

TASK [Pause to allow cluster to stabilize.] *****************************************************************************************************************
Tuesday 10 May 2022  20:49:49 +0100 (0:00:18.722)       0:02:04.813 ***********
Pausing for 10 seconds
(ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
[32mok: [localhost][0m

TASK [Deploy 15 helm memcached CRs.] ************************************************************************************************************************
Tuesday 10 May 2022  20:49:59 +0100 (0:00:10.014)       0:02:14.828 ***********
[33mchanged: [localhost][0m

TASK [[B1] Wait for 15 helm Memcached Pods to be running.] **************************************************************************************************
Tuesday 10 May 2022  20:50:00 +0100 (0:00:00.729)       0:02:15.557 ***********
[1;30mFAILED - RETRYING: [B1] Wait for 15 helm Memcached Pods to be running. (120 retries left).[0m
[1;30mFAILED - RETRYING: [B1] Wait for 15 helm Memcached Pods to be running. (119 retries left).[0m
[1;30mFAILED - RETRYING: [B1] Wait for 15 helm Memcached Pods to be running. (118 retries left).[0m
[1;30mFAILED - RETRYING: [B1] Wait for 15 helm Memcached Pods to be running. (117 retries left).[0m
[1;30mFAILED - RETRYING: [B1] Wait for 15 helm Memcached Pods to be running. (116 retries left).[0m
[32mok: [localhost][0m

TASK [[B1] Wait for helm Memcached Pods to be ready.] *******************************************************************************************************
Tuesday 10 May 2022  20:50:19 +0100 (0:00:18.869)       0:02:34.427 ***********
[32mok: [localhost][0m

TASK [Deploy 15 helm memcached CRs.] ************************************************************************************************************************
Tuesday 10 May 2022  20:50:28 +0100 (0:00:08.653)       0:02:43.080 ***********
[32mok: [localhost][0m

TASK [[B2] Wait for 15 helm Memcached Pods to be running.] **************************************************************************************************
Tuesday 10 May 2022  20:50:29 +0100 (0:00:00.897)       0:02:43.977 ***********
[32mok: [localhost][0m

TASK [Un-deploy 15 helm memcached CRs.] *********************************************************************************************************************
Tuesday 10 May 2022  20:50:29 +0100 (0:00:00.970)       0:02:44.948 ***********
[33mchanged: [localhost][0m

TASK [[B3] Wait for all helm Memcached Pods to be gone.] ****************************************************************************************************
Tuesday 10 May 2022  20:50:30 +0100 (0:00:00.828)       0:02:45.777 ***********
[1;30mFAILED - RETRYING: [B3] Wait for all helm Memcached Pods to be gone. (120 retries left).[0m
[1;30mFAILED - RETRYING: [B3] Wait for all helm Memcached Pods to be gone. (119 retries left).[0m
[1;30mFAILED - RETRYING: [B3] Wait for all helm Memcached Pods to be gone. (118 retries left).[0m
[32mok: [localhost][0m

TASK [Undeploy the helm memcached operator.] ****************************************************************************************************************
Tuesday 10 May 2022  20:50:48 +0100 (0:00:17.833)       0:03:03.610 ***********
[33mchanged: [localhost][0m

TASK [LOAD TEST - Build, deploy, benchmark, and undeploy operators.] ****************************************************************************************
Tuesday 10 May 2022  20:50:48 +0100 (0:00:00.337)       0:03:03.948 ***********
[36mskipping: [localhost] => (item=helm) [0m

PLAY RECAP **************************************************************************************************************************************************
[33mlocalhost[0m                  : [32mok=42  [0m [33mchanged=22  [0m unreachable=0    failed=0    [36mskipped=3   [0m rescued=0    ignored=0

Tuesday 10 May 2022  20:50:49 +0100 (0:00:00.028)       0:03:03.976 ***********
===============================================================================
Clone the operator-sdk project. ---------------------------------------------------------------------------------------------------------------------- 2.35s
Attempt to fix file permissions. --------------------------------------------------------------------------------------------------------------------- 8.35s
Deploy a memcached DaemonSet so image is pulled to all nodes. ---------------------------------------------------------------------------------------- 0.14s
Create a Memcached DaemonSet. ------------------------------------------------------------------------------------------------------------------------ 5.76s
Delete the Memcached DaemonSet. ---------------------------------------------------------------------------------------------------------------------- 0.64s
Deploy cert-manager (required for Go operator). ------------------------------------------------------------------------------------------------------ 0.05s
Deploy prometheus-operator (required for metrics service). ------------------------------------------------------------------------------------------- 0.02s
Download prometheus-operator manifest. --------------------------------------------------------------------------------------------------------------- 0.93s
Manually create the prometheus-operator ServiceAccount. ---------------------------------------------------------------------------------------------- 0.65s
Manually create the prometheus ServiceAccount. ------------------------------------------------------------------------------------------------------- 0.59s
Manually create the prometheus-operator cluster role ------------------------------------------------------------------------------------------------- 0.56s
Manually create the prometheus-operator cluster role binding ----------------------------------------------------------------------------------------- 0.62s
Deploy prometheus-operator into the cluster. -------------------------------------------------------------------------------------------------------- 18.74s
Deploy additional-scrape-configs into the cluster. --------------------------------------------------------------------------------------------------- 0.69s
Deploy the prometheus CR ----------------------------------------------------------------------------------------------------------------------------- 0.65s
Deploy metrics server. ------------------------------------------------------------------------------------------------------------------------------- 0.02s
Download metrics server manifests -------------------------------------------------------------------------------------------------------------------- 0.60s
Deploy metrics service into the cluster. ------------------------------------------------------------------------------------------------------------ 35.85s
Download metrics server cluster role ----------------------------------------------------------------------------------------------------------------- 0.96s
Download metrics server cluster role binding --------------------------------------------------------------------------------------------------------- 0.82s
Download metrics server deployment ------------------------------------------------------------------------------------------------------------------- 0.61s
Download metrics server service account -------------------------------------------------------------------------------------------------------------- 0.61s
Download metrics server service ---------------------------------------------------------------------------------------------------------------------- 0.61s
Deploy metrics server cluster role ------------------------------------------------------------------------------------------------------------------- 0.66s
Deploy metrics server cluster role binding ----------------------------------------------------------------------------------------------------------- 0.58s
Deploy metrics server service account ---------------------------------------------------------------------------------------------------------------- 0.65s
Deploy metrics server deployment -------------------------------------------------------------------------------------------------------------------- 15.76s
Deploy metrics server service ------------------------------------------------------------------------------------------------------------------------ 0.66s
SPIKE TEST -  Build, deploy, benchmark, and undeploy operators. -------------------------------------------------------------------------------------- 0.13s
Set the helm memcached operator image name. ---------------------------------------------------------------------------------------------------------- 0.02s
Set the app label selector for Helm. ----------------------------------------------------------------------------------------------------------------- 0.02s
Ensure the operator namespace exists. ---------------------------------------------------------------------------------------------------------------- 0.58s
Set the correct subdirectory for the Go operator example. -------------------------------------------------------------------------------------------- 0.02s
Build, push, and deploy the helm memcached operator. ------------------------------------------------------------------------------------------------- 6.14s
Wait for Operator Pod to be 'Running'. -------------------------------------------------------------------------------------------------------------- 18.72s
Pause to allow cluster to stabilize. ---------------------------------------------------------------------------------------------------------------- 10.01s
Deploy 15 helm memcached CRs. ------------------------------------------------------------------------------------------------------------------------ 0.73s
[B1] Wait for 15 helm Memcached Pods to be running. ------------------------------------------------------------------------------------------------- 18.87s
[B1] Wait for helm Memcached Pods to be ready. ------------------------------------------------------------------------------------------------------- 8.65s
Deploy 15 helm memcached CRs. ------------------------------------------------------------------------------------------------------------------------ 0.90s
[B2] Wait for 15 helm Memcached Pods to be running. -------------------------------------------------------------------------------------------------- 0.97s
Un-deploy 15 helm memcached CRs. --------------------------------------------------------------------------------------------------------------------- 0.83s
[B3] Wait for all helm Memcached Pods to be gone. --------------------------------------------------------------------------------------------------- 17.83s
Undeploy the helm memcached operator. ---------------------------------------------------------------------------------------------------------------- 0.34s
LOAD TEST - Build, deploy, benchmark, and undeploy operators. ---------------------------------------------------------------------------------------- 0.03s
